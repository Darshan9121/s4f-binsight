{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\Binsight\\\\frontend\\\\src\\\\components\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [currentView, setCurrentView] = useState(\"welcome\");\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [classificationResult, setClassificationResult] = useState(\"\");\n  const [disposalInstructions, setDisposalInstructions] = useState([]);\n\n  // SVG Icons\n  const CameraIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"48\",\n    height: \"48\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n  const UploadIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"32\",\n    height: \"32\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-emerald-600\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n  const CheckIcon = ({\n    size = 24\n  }) => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: size,\n    height: size,\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-white\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 3,\n      d: \"M5 13l4 4L19 7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n\n  // Mock classification function\n  const classifyImage = async file => {\n    if (!file) return;\n\n    // Show processing screen immediately\n    setCurrentView(\"processing\");\n    try {\n      // Prepare FormData\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      console.log(\"Sending file to API:\", file);\n\n      // Upload image to FastAPI\n      const response = await fetch(\"http://localhost:3000/predict\", {\n        method: \"POST\",\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error(`Server error: ${response.status}`);\n      }\n      const result = await response.json();\n      const taskId = result.task_id;\n      console.log(\"Task ID received:\", taskId);\n\n      // Poll for results\n      const pollResult = async () => {\n        const resultResponse = await fetch(`http://localhost:3000/result/${taskId}`);\n        const resultData = await resultResponse.json();\n        if (resultData.status === \"completed\") {\n          console.log(\"Prediction result:\", resultData.prediction);\n\n          // Update state with classification and disposal instructions\n          const classification = resultData.prediction.class;\n          setClassificationResult(classification);\n          setDisposalInstructions(getDisposalInstructions(classification));\n          setCurrentView(\"classification\");\n          return resultData;\n        } else if (resultData.status === \"failed\") {\n          console.error(\"Prediction failed:\", resultData.prediction.error);\n          alert(\"Prediction failed. Try again.\");\n          setCurrentView(\"welcome\");\n          return resultData;\n        } else {\n          // Still processing, poll again after 1s\n          setTimeout(pollResult, 1000);\n        }\n      };\n      await pollResult();\n    } catch (error) {\n      console.error(\"Error classifying image:\", error);\n      alert(\"Failed to classify image. Check your server or file format.\");\n      setUploadedImage(null);\n      setClassificationResult(\"\");\n      setCurrentView(\"welcome\");\n    }\n  };\n\n  // --- File input handler ---\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        setUploadedImage(e.target.result);\n        setCurrentView(\"processing\");\n        classifyImage(file); // call the polling function\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // --- Camera capture handler ---\n  const handleCameraCapture = () => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.capture = \"camera\";\n    input.onchange = handleImageUpload;\n    input.click();\n  };\n\n  // --- Disposal instructions mapping ---\n  const getDisposalInstructions = wasteType => {\n    const instructions = {\n      Plastic: [\"Rinse the plastic container to remove any food residue.\", \"Check for the recycling symbol (1, 2, or 5). If present, it’s recyclable.\", \"Place clean, recyclable plastics in the recycling bin.\", \"If not recyclable, dispose in general waste.\"],\n      Glass: [\"Remove lids or caps from glass containers.\", \"Rinse the glass to remove residue.\", \"Place clean glass in the recycling bin.\", \"Wrap broken glass safely before disposal.\"],\n      Paper: [\"Remove plastic wrapping or tape.\", \"Ensure paper is clean and dry.\", \"Place in the paper recycling bin.\", \"Heavily soiled paper goes to general waste.\"],\n      Metal: [\"Rinse cans to remove residue.\", \"Remove paper labels if possible.\", \"Place in the metal recycling bin.\", \"Aluminum and steel are recyclable.\"],\n      Organic: [\"Place food scraps in the organic waste bin.\", \"Remove packaging materials first.\", \"Compost at home if possible.\", \"Avoid meat or dairy in home compost.\"]\n    };\n    return instructions[wasteType] || instructions[\"Plastic\"];\n  };\n\n  // Screens\n  if (currentView === \"welcome\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col bg-gradient-to-br from-emerald-50 to-emerald-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center px-6 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"BinSight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-1 flex-col items-center justify-center px-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl font-bold text-gray-800 mb-6\",\n          children: \"Time to Recycle!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-500 mb-12 max-w-md leading-relaxed\",\n          children: \"Help us identify your waste. Simply tap the button below to snap a photo or upload one from your gallery.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCameraCapture,\n            className: \"bg-white rounded-full p-12 shadow-2xl hover:scale-105 transition\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 bg-emerald-500 rounded-xl\",\n                children: /*#__PURE__*/_jsxDEV(CameraIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-semibold text-gray-800\",\n                children: \"Capture Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4 w-52\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 h-px bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 font-medium\",\n              children: \"or\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 h-px bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-72\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleImageUpload,\n              className: \"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-white border-2 border-emerald-200 rounded-xl p-8 w-full shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 bg-emerald-50 rounded-lg\",\n                  children: /*#__PURE__*/_jsxDEV(UploadIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-lg font-semibold text-gray-800\",\n                  children: \"Upload from Gallery\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"processing\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\",\n      children: [uploadedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: uploadedImage,\n        alt: \"Uploaded\",\n        className: \"w-48 h-48 object-cover rounded-xl shadow-xl mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-2\",\n        children: \"Analyzing Image...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-center max-w-xs\",\n        children: \"Our AI is identifying your waste type to provide the best recycling guidance.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"classification\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\",\n      children: [uploadedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: uploadedImage,\n        alt: \"Classified\",\n        className: \"w-32 h-32 object-cover rounded-xl shadow-xl mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-800 mb-4\",\n        children: classificationResult\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-center mb-6\",\n        children: [\"Great! We've identified your waste as \", classificationResult.toLowerCase(), \". Let's learn how to dispose of it properly.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4 w-full max-w-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView(\"instructions\"),\n          className: \"w-full bg-emerald-500 text-white py-3 rounded-xl font-semibold hover:bg-emerald-600 transition\",\n          children: \"View Disposal Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentView(\"welcome\");\n            setUploadedImage(null);\n            setClassificationResult(\"\");\n          },\n          className: \"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\",\n          children: \"Scan Another Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"instructions\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800 text-center mb-6\",\n          children: [\"How to Dispose of \", classificationResult]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-4 mb-6\",\n          children: disposalInstructions.map((instr, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-6 h-6 flex items-center justify-center rounded-full text-white font-bold ${idx < 3 ? 'bg-emerald-500' : 'bg-gray-400'}`,\n              children: idx + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-700\",\n              children: instr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView(\"confirmation\"),\n            className: \"w-full bg-emerald-500 text-white py-3 rounded-xl font-semibold hover:bg-emerald-600 transition\",\n            children: \"Confirm Disposal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView(\"welcome\"),\n            className: \"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\",\n            children: \"Scan Another Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"confirmation\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-gray-800\",\n          children: \"Thank You!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-center\",\n          children: [\"You've successfully disposed of \", classificationResult.toLowerCase(), \" responsibly. Keep recycling!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentView(\"welcome\");\n            setUploadedImage(null);\n            setClassificationResult(\"\");\n          },\n          className: \"bg-emerald-500 text-white py-3 px-6 rounded-xl font-semibold hover:bg-emerald-600 transition\",\n          children: \"Scan Another Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(Home, \"UrC4pzubSHMcMhwgPy7ubp/LpQE=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Home","_s","currentView","setCurrentView","uploadedImage","setUploadedImage","classificationResult","setClassificationResult","disposalInstructions","setDisposalInstructions","CameraIcon","width","height","fill","stroke","viewBox","className","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","UploadIcon","CheckIcon","size","classifyImage","file","formData","FormData","append","console","log","response","fetch","method","body","ok","Error","status","result","json","taskId","task_id","pollResult","resultResponse","resultData","prediction","classification","class","getDisposalInstructions","error","alert","setTimeout","handleImageUpload","event","target","files","reader","FileReader","onload","e","readAsDataURL","handleCameraCapture","input","document","createElement","type","accept","capture","onchange","click","wasteType","instructions","Plastic","Glass","Paper","Metal","Organic","onClick","onChange","src","alt","toLowerCase","map","instr","idx","_c","$RefreshReg$"],"sources":["D:/Projects/Binsight/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Home = () => {\r\n  const [currentView, setCurrentView] = useState(\"welcome\");\r\n  const [uploadedImage, setUploadedImage] = useState(null);\r\n  const [classificationResult, setClassificationResult] = useState(\"\");\r\n  const [disposalInstructions, setDisposalInstructions] = useState([]);\r\n\r\n  // SVG Icons\r\n  const CameraIcon = () => (\r\n    <svg width=\"48\" height=\"48\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-white\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n    </svg>\r\n  );\r\n\r\n  const UploadIcon = () => (\r\n    <svg width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-emerald-600\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n    </svg>\r\n  );\r\n\r\n  const CheckIcon = ({ size = 24 }) => (\r\n    <svg width={size} height={size} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-white\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\r\n    </svg>\r\n  );\r\n\r\n  // Mock classification function\r\nconst classifyImage = async (file) => {\r\n  if (!file) return;\r\n\r\n  // Show processing screen immediately\r\n  setCurrentView(\"processing\");\r\n\r\n  try {\r\n    // Prepare FormData\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    console.log(\"Sending file to API:\", file);\r\n\r\n    // Upload image to FastAPI\r\n    const response = await fetch(\"http://localhost:3000/predict\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Server error: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const taskId = result.task_id;\r\n\r\n    console.log(\"Task ID received:\", taskId);\r\n\r\n    // Poll for results\r\n    const pollResult = async () => {\r\n      const resultResponse = await fetch(`http://localhost:3000/result/${taskId}`);\r\n      const resultData = await resultResponse.json();\r\n\r\n      if (resultData.status === \"completed\") {\r\n        console.log(\"Prediction result:\", resultData.prediction);\r\n\r\n        // Update state with classification and disposal instructions\r\n        const classification = resultData.prediction.class;\r\n        setClassificationResult(classification);\r\n        setDisposalInstructions(getDisposalInstructions(classification));\r\n        setCurrentView(\"classification\");\r\n\r\n        return resultData;\r\n      } else if (resultData.status === \"failed\") {\r\n        console.error(\"Prediction failed:\", resultData.prediction.error);\r\n        alert(\"Prediction failed. Try again.\");\r\n        setCurrentView(\"welcome\");\r\n        return resultData;\r\n      } else {\r\n        // Still processing, poll again after 1s\r\n        setTimeout(pollResult, 1000);\r\n      }\r\n    };\r\n\r\n    await pollResult();\r\n\r\n  } catch (error) {\r\n    console.error(\"Error classifying image:\", error);\r\n    alert(\"Failed to classify image. Check your server or file format.\");\r\n    setUploadedImage(null);\r\n    setClassificationResult(\"\");\r\n    setCurrentView(\"welcome\");\r\n  }\r\n};\r\n\r\n// --- File input handler ---\r\nconst handleImageUpload = (event) => {\r\n  const file = event.target.files[0];\r\n  if (file) {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      setUploadedImage(e.target.result);\r\n      setCurrentView(\"processing\");\r\n      classifyImage(file); // call the polling function\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n};\r\n\r\n// --- Camera capture handler ---\r\nconst handleCameraCapture = () => {\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \"image/*\";\r\n  input.capture = \"camera\";\r\n  input.onchange = handleImageUpload;\r\n  input.click();\r\n};\r\n\r\n// --- Disposal instructions mapping ---\r\nconst getDisposalInstructions = (wasteType) => {\r\n  const instructions = {\r\n    Plastic: [\r\n      \"Rinse the plastic container to remove any food residue.\",\r\n      \"Check for the recycling symbol (1, 2, or 5). If present, it’s recyclable.\",\r\n      \"Place clean, recyclable plastics in the recycling bin.\",\r\n      \"If not recyclable, dispose in general waste.\",\r\n    ],\r\n    Glass: [\r\n      \"Remove lids or caps from glass containers.\",\r\n      \"Rinse the glass to remove residue.\",\r\n      \"Place clean glass in the recycling bin.\",\r\n      \"Wrap broken glass safely before disposal.\",\r\n    ],\r\n    Paper: [\r\n      \"Remove plastic wrapping or tape.\",\r\n      \"Ensure paper is clean and dry.\",\r\n      \"Place in the paper recycling bin.\",\r\n      \"Heavily soiled paper goes to general waste.\",\r\n    ],\r\n    Metal: [\r\n      \"Rinse cans to remove residue.\",\r\n      \"Remove paper labels if possible.\",\r\n      \"Place in the metal recycling bin.\",\r\n      \"Aluminum and steel are recyclable.\",\r\n    ],\r\n    Organic: [\r\n      \"Place food scraps in the organic waste bin.\",\r\n      \"Remove packaging materials first.\",\r\n      \"Compost at home if possible.\",\r\n      \"Avoid meat or dairy in home compost.\",\r\n    ],\r\n  };\r\n  return instructions[wasteType] || instructions[\"Plastic\"];\r\n};\r\n\r\n  // Screens\r\n  if (currentView === \"welcome\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-emerald-50 to-emerald-100\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center px-6 py-6\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">BinSight</h1>\r\n        </div>\r\n\r\n        {/* Main */}\r\n        <div className=\"flex flex-1 flex-col items-center justify-center px-6 text-center\">\r\n          <h2 className=\"text-4xl font-bold text-gray-800 mb-6\">Time to Recycle!</h2>\r\n          <p className=\"text-lg text-gray-500 mb-12 max-w-md leading-relaxed\">\r\n            Help us identify your waste. Simply tap the button below to snap a photo or upload one from your gallery.\r\n          </p>\r\n\r\n          <div className=\"flex flex-col items-center gap-6\">\r\n            <button\r\n              onClick={handleCameraCapture}\r\n              className=\"bg-white rounded-full p-12 shadow-2xl hover:scale-105 transition\"\r\n            >\r\n              <div className=\"flex flex-col items-center gap-3\">\r\n                <div className=\"p-6 bg-emerald-500 rounded-xl\">\r\n                  <CameraIcon />\r\n                </div>\r\n                <span className=\"text-xl font-semibold text-gray-800\">\r\n                  Capture Photo\r\n                </span>\r\n              </div>\r\n            </button>\r\n\r\n            <div className=\"flex items-center gap-4 w-52\">\r\n              <div className=\"flex-1 h-px bg-gray-300\" />\r\n              <span className=\"text-gray-500 font-medium\">or</span>\r\n              <div className=\"flex-1 h-px bg-gray-300\" />\r\n            </div>\r\n\r\n            <div className=\"relative w-72\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleImageUpload}\r\n                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n              />\r\n              <button className=\"bg-white border-2 border-emerald-200 rounded-xl p-8 w-full shadow-lg\">\r\n                <div className=\"flex flex-col items-center gap-3\">\r\n                  <div className=\"p-4 bg-emerald-50 rounded-lg\">\r\n                    <UploadIcon />\r\n                  </div>\r\n                  <span className=\"text-lg font-semibold text-gray-800\">\r\n                    Upload from Gallery\r\n                  </span>\r\n                </div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"processing\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\">\r\n        {uploadedImage && <img src={uploadedImage} alt=\"Uploaded\" className=\"w-48 h-48 object-cover rounded-xl shadow-xl mb-6\" />}\r\n        <div className=\"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mb-4\"></div>\r\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Analyzing Image...</h2>\r\n        <p className=\"text-gray-600 text-center max-w-xs\">\r\n          Our AI is identifying your waste type to provide the best recycling guidance.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"classification\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\">\r\n        {uploadedImage && <img src={uploadedImage} alt=\"Classified\" className=\"w-32 h-32 object-cover rounded-xl shadow-xl mb-6\" />}\r\n        <div className=\"mb-6\">\r\n          <div className=\"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-xl\">\r\n            <div className=\"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center\">\r\n              <CheckIcon size={24} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">{classificationResult}</h2>\r\n        <p className=\"text-gray-600 text-center mb-6\">\r\n          Great! We've identified your waste as {classificationResult.toLowerCase()}.\r\n          Let's learn how to dispose of it properly.\r\n        </p>\r\n        <div className=\"flex flex-col gap-4 w-full max-w-xs\">\r\n          <button\r\n            onClick={() => setCurrentView(\"instructions\")}\r\n            className=\"w-full bg-emerald-500 text-white py-3 rounded-xl font-semibold hover:bg-emerald-600 transition\"\r\n          >\r\n            View Disposal Instructions\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setCurrentView(\"welcome\");\r\n              setUploadedImage(null);\r\n              setClassificationResult(\"\");\r\n            }}\r\n            className=\"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\"\r\n          >\r\n            Scan Another Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"instructions\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md\">\r\n          <h2 className=\"text-xl font-bold text-gray-800 text-center mb-6\">\r\n            How to Dispose of {classificationResult}\r\n          </h2>\r\n          <div className=\"flex flex-col gap-4 mb-6\">\r\n            {disposalInstructions.map((instr, idx) => (\r\n              <div key={idx} className=\"flex items-start gap-3\">\r\n                <div className={`w-6 h-6 flex items-center justify-center rounded-full text-white font-bold ${idx < 3 ? 'bg-emerald-500' : 'bg-gray-400'}`}>\r\n                  {idx + 1}\r\n                </div>\r\n                <p className=\"text-gray-700\">{instr}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex flex-col gap-3\">\r\n            <button\r\n              onClick={() => setCurrentView(\"confirmation\")}\r\n              className=\"w-full bg-emerald-500 text-white py-3 rounded-xl font-semibold hover:bg-emerald-600 transition\"\r\n            >\r\n              Confirm Disposal\r\n            </button>\r\n            <button\r\n              onClick={() => setCurrentView(\"welcome\")}\r\n              className=\"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\"\r\n            >\r\n              Scan Another Item\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"confirmation\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 p-6\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center gap-6\">\r\n          <h2 className=\"text-3xl font-bold text-gray-800\">Thank You!</h2>\r\n          <p className=\"text-gray-600 text-center\">\r\n            You've successfully disposed of {classificationResult.toLowerCase()} responsibly. Keep recycling!\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setCurrentView(\"welcome\");\r\n              setUploadedImage(null);\r\n              setClassificationResult(\"\");\r\n            }}\r\n            className=\"bg-emerald-500 text-white py-3 px-6 rounded-xl font-semibold hover:bg-emerald-600 transition\"\r\n          >\r\n            Scan Another Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}