{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\Binsight\\\\frontend\\\\src\\\\components\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [currentView, setCurrentView] = useState(\"welcome\");\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [classificationResult, setClassificationResult] = useState(\"\");\n  const [disposalInstructions, setDisposalInstructions] = useState([]);\n\n  // SVG Icons\n  const CameraIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"48\",\n    height: \"48\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n  const UploadIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"32\",\n    height: \"32\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-emerald-600\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n  const CheckIcon = ({\n    size = 24\n  }) => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: size,\n    height: size,\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-white\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 3,\n      d: \"M5 13l4 4L19 7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n\n  // ✅ Fallback instructions (same as your original)\n  const getFallbackInstructions = wasteType => {\n    const instructions = {\n      cardboard: [\"Remove any tape, labels, or packing materials.\", \"Flatten cardboard boxes to save space.\", \"Place clean cardboard in the recycling bin.\", \"Soiled or wet cardboard goes to general waste.\"],\n      glass: [\"Remove lids or caps from glass containers.\", \"Rinse the glass to remove residue.\", \"Place clean glass in the recycling bin.\", \"Wrap broken glass safely before disposal.\"],\n      metal: [\"Rinse cans to remove residue.\", \"Remove paper labels if possible.\", \"Place in the metal recycling bin.\", \"Aluminum and steel are recyclable.\"],\n      paper: [\"Remove plastic wrapping or tape.\", \"Ensure paper is clean and dry.\", \"Place in the paper recycling bin.\", \"Heavily soiled paper goes to general waste.\"],\n      plastic: [\"Rinse the plastic container to remove any food residue.\", \"Check for the recycling symbol (1, 2, or 5). If present, it’s recyclable.\", \"Place clean, recyclable plastics in the recycling bin.\", \"If not recyclable, dispose in general waste.\"],\n      trash: [\"Place non-recyclable waste in the general waste bin.\", \"Avoid mixing recyclables with trash.\", \"Seal trash bags to prevent spills.\", \"Dispose of hazardous waste separately.\"]\n    };\n    return instructions[wasteType] || instructions[\"plastic\"];\n  };\n\n  // Replace your classifyImage function with this\n  const classifyImage = async file => {\n    if (!file) return;\n    setCurrentView(\"processing\");\n    try {\n      const formData = new FormData();\n      formData.append(\"image\", file);\n\n      // Step 1: Classify image\n      const classifyResponse = await fetch(\"http://localhost:5000/api/public/classify\", {\n        method: \"POST\",\n        body: formData\n      });\n      if (!classifyResponse.ok) {\n        const error = await classifyResponse.json();\n        throw new Error(error.message || 'Server error');\n      }\n      const classifyResult = await classifyResponse.json();\n      const categoryName = classifyResult.category;\n      setClassificationResult(categoryName);\n\n      // Step 2: Fetch instructions for this category\n      const instructionsResponse = await fetch(`http://localhost:5000/api/public/category/${categoryName}`);\n      let instructionsArray = [];\n      if (instructionsResponse.ok) {\n        var _instructionsResult$d;\n        const instructionsResult = await instructionsResponse.json();\n        // Extract instructions from the nested data structure\n        const instructionsString = ((_instructionsResult$d = instructionsResult.data) === null || _instructionsResult$d === void 0 ? void 0 : _instructionsResult$d.instructions) || '';\n        instructionsArray = instructionsString.split('\\n').map(s => s.trim()).filter(s => s.length > 0);\n      } else {\n        // Fallback to hardcoded instructions if API fails\n        instructionsArray = getFallbackInstructions(categoryName);\n      }\n      setDisposalInstructions(instructionsArray);\n      setCurrentView(\"classification\");\n    } catch (error) {\n      console.error(\"Error:\", error);\n      alert(\"Failed to classify image. Check your server.\");\n      resetToWelcome();\n    }\n  };\n  const resetToWelcome = () => {\n    setUploadedImage(null);\n    setClassificationResult(\"\");\n    setCurrentView(\"welcome\");\n  };\n\n  // ✅ File input handler (UNCOMMENTED)\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        setUploadedImage(e.target.result);\n        classifyImage(file); // call classification\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // ✅ Camera capture handler (UNCOMMENTED)\n  const handleCameraCapture = () => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.capture = \"camera\";\n    input.onchange = handleImageUpload;\n    input.click();\n  };\n\n  // Screens\n  if (currentView === \"welcome\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col bg-gradient-to-br from-lime-50 to-lime-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-1 flex-col items-center justify-start gap-1 px-6 text-center py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-5xl font-bold text-gray-800 mb-8\",\n          children: \"Time to Recycle!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-500 mb-12 max-w-lg leading-relaxed\",\n          children: \"Help us identify your waste. Simply tap the button below to snap a photo or upload one from your gallery.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCameraCapture // ✅ Now defined\n            ,\n            className: \"bg-white rounded-full p-6 shadow-2xl hover:scale-105 transition\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-5 bg-lime-400 rounded-xl\",\n                children: /*#__PURE__*/_jsxDEV(CameraIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-semibold text-gray-800\",\n                children: \"Capture Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4 w-52\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 h-px bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 font-medium\",\n              children: \"or\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 h-px bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-72\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleImageUpload // ✅ Now defined\n              ,\n              className: \"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-white border-2 border-lime-200 rounded-xl p-5 w-full shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 bg-lime-50 rounded-lg\",\n                  children: /*#__PURE__*/_jsxDEV(UploadIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-lg font-semibold text-gray-800\",\n                  children: \"Upload from Gallery\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"processing\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: [uploadedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: uploadedImage,\n        alt: \"Uploaded\",\n        className: \"w-48 h-48 object-cover rounded-xl shadow-xl mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-lime-400 border-t-transparent rounded-full animate-spin mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-2\",\n        children: \"Analyzing Image...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-center max-w-xs\",\n        children: \"Our AI is identifying your waste type to provide the best recycling guidance.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"classification\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: [uploadedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: uploadedImage,\n        alt: \"Classified\",\n        className: \"w-32 h-32 object-cover rounded-xl shadow-xl mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-lime-400 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-800 mb-4\",\n        children: classificationResult\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-center mb-6\",\n        children: [\"Great! We've identified your waste as \", classificationResult.toLowerCase(), \". Let's learn how to dispose of it properly.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4 w-full max-w-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView(\"instructions\"),\n          className: \"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\",\n          children: \"View Disposal Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentView(\"welcome\");\n            setUploadedImage(null);\n            setClassificationResult(\"\");\n          },\n          className: \"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\",\n          children: \"Scan Another Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"instructions\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800 text-center mb-6\",\n          children: [\"How to Dispose of \", classificationResult]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-4 mb-6\",\n          children: disposalInstructions.map((instr, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-6 h-6 flex items-center justify-center rounded-full text-white font-bold ${idx < 3 ? 'bg-lime-400' : 'bg-gray-400'}`,\n              children: idx + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-700\",\n              children: instr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView(\"confirmation\"),\n            className: \"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\",\n            children: \"Confirm Disposal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView(\"welcome\"),\n            className: \"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\",\n            children: \"Scan Another Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"confirmation\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-gray-800\",\n          children: \"Thank You!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-center\",\n          children: [\"You've successfully disposed of \", classificationResult.toLowerCase(), \" responsibly. Keep recycling!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentView(\"welcome\");\n            setUploadedImage(null);\n            setClassificationResult(\"\");\n          },\n          className: \"bg-lime-400 text-white py-3 px-6 rounded-xl font-semibold hover:bg-lime-500 transition\",\n          children: \"Scan Another Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(Home, \"UrC4pzubSHMcMhwgPy7ubp/LpQE=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Home","_s","currentView","setCurrentView","uploadedImage","setUploadedImage","classificationResult","setClassificationResult","disposalInstructions","setDisposalInstructions","CameraIcon","width","height","fill","stroke","viewBox","className","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","UploadIcon","CheckIcon","size","getFallbackInstructions","wasteType","instructions","cardboard","glass","metal","paper","plastic","trash","classifyImage","file","formData","FormData","append","classifyResponse","fetch","method","body","ok","error","json","Error","message","classifyResult","categoryName","category","instructionsResponse","instructionsArray","_instructionsResult$d","instructionsResult","instructionsString","data","split","map","s","trim","filter","length","console","alert","resetToWelcome","handleImageUpload","event","target","files","reader","FileReader","onload","e","result","readAsDataURL","handleCameraCapture","input","document","createElement","type","accept","capture","onchange","click","onClick","onChange","src","alt","toLowerCase","instr","idx","_c","$RefreshReg$"],"sources":["D:/Projects/Binsight/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Home = () => {\r\n  const [currentView, setCurrentView] = useState(\"welcome\");\r\n  const [uploadedImage, setUploadedImage] = useState(null);\r\n  const [classificationResult, setClassificationResult] = useState(\"\");\r\n  const [disposalInstructions, setDisposalInstructions] = useState([]);\r\n\r\n  // SVG Icons\r\n  const CameraIcon = () => (\r\n    <svg width=\"48\" height=\"48\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-white\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n    </svg>\r\n  );\r\n\r\n  const UploadIcon = () => (\r\n    <svg width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-emerald-600\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n    </svg>\r\n  );\r\n\r\n  const CheckIcon = ({ size = 24 }) => (\r\n    <svg width={size} height={size} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-white\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\r\n    </svg>\r\n  );\r\n\r\n  // ✅ Fallback instructions (same as your original)\r\n  const getFallbackInstructions = (wasteType) => {\r\n    const instructions = {\r\n      cardboard: [\r\n        \"Remove any tape, labels, or packing materials.\",\r\n        \"Flatten cardboard boxes to save space.\",\r\n        \"Place clean cardboard in the recycling bin.\",\r\n        \"Soiled or wet cardboard goes to general waste.\",\r\n      ],\r\n      glass: [\r\n        \"Remove lids or caps from glass containers.\",\r\n        \"Rinse the glass to remove residue.\",\r\n        \"Place clean glass in the recycling bin.\",\r\n        \"Wrap broken glass safely before disposal.\",\r\n      ],\r\n      metal: [\r\n        \"Rinse cans to remove residue.\",\r\n        \"Remove paper labels if possible.\",\r\n        \"Place in the metal recycling bin.\",\r\n        \"Aluminum and steel are recyclable.\",\r\n      ],\r\n      paper: [\r\n        \"Remove plastic wrapping or tape.\",\r\n        \"Ensure paper is clean and dry.\",\r\n        \"Place in the paper recycling bin.\",\r\n        \"Heavily soiled paper goes to general waste.\",\r\n      ],\r\n      plastic: [\r\n        \"Rinse the plastic container to remove any food residue.\",\r\n        \"Check for the recycling symbol (1, 2, or 5). If present, it’s recyclable.\",\r\n        \"Place clean, recyclable plastics in the recycling bin.\",\r\n        \"If not recyclable, dispose in general waste.\",\r\n      ],\r\n      trash: [\r\n        \"Place non-recyclable waste in the general waste bin.\",\r\n        \"Avoid mixing recyclables with trash.\",\r\n        \"Seal trash bags to prevent spills.\",\r\n        \"Dispose of hazardous waste separately.\",\r\n      ],\r\n    };\r\n    return instructions[wasteType] || instructions[\"plastic\"];\r\n  };\r\n\r\n// Replace your classifyImage function with this\r\nconst classifyImage = async (file) => {\r\n  if (!file) return;\r\n  setCurrentView(\"processing\");\r\n\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n\r\n    // Step 1: Classify image\r\n    const classifyResponse = await fetch(\"http://localhost:5000/api/public/classify\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n\r\n    if (!classifyResponse.ok) {\r\n      const error = await classifyResponse.json();\r\n      throw new Error(error.message || 'Server error');\r\n    }\r\n\r\n    const classifyResult = await classifyResponse.json();\r\n    const categoryName = classifyResult.category;\r\n    \r\n    setClassificationResult(categoryName);\r\n\r\n    // Step 2: Fetch instructions for this category\r\n    const instructionsResponse = await fetch(`http://localhost:5000/api/public/category/${categoryName}`);\r\n    \r\n    let instructionsArray = [];\r\n    if (instructionsResponse.ok) {\r\n      const instructionsResult = await instructionsResponse.json();\r\n      // Extract instructions from the nested data structure\r\n      const instructionsString = instructionsResult.data?.instructions || '';\r\n      instructionsArray = instructionsString\r\n        .split('\\n')\r\n        .map(s => s.trim())\r\n        .filter(s => s.length > 0);\r\n    } else {\r\n      // Fallback to hardcoded instructions if API fails\r\n      instructionsArray = getFallbackInstructions(categoryName);\r\n    }\r\n\r\n    setDisposalInstructions(instructionsArray);\r\n    setCurrentView(\"classification\");\r\n\r\n  } catch (error) {\r\n    console.error(\"Error:\", error);\r\n    alert(\"Failed to classify image. Check your server.\");\r\n    resetToWelcome();\r\n  }\r\n};\r\n\r\n  const resetToWelcome = () => {\r\n    setUploadedImage(null);\r\n    setClassificationResult(\"\");\r\n    setCurrentView(\"welcome\");\r\n  };\r\n\r\n  // ✅ File input handler (UNCOMMENTED)\r\n  const handleImageUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setUploadedImage(e.target.result);\r\n        classifyImage(file); // call classification\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  // ✅ Camera capture handler (UNCOMMENTED)\r\n  const handleCameraCapture = () => {\r\n    const input = document.createElement(\"input\");\r\n    input.type = \"file\";\r\n    input.accept = \"image/*\";\r\n    input.capture = \"camera\";\r\n    input.onchange = handleImageUpload;\r\n    input.click();\r\n  };\r\n\r\n  // Screens\r\n  if (currentView === \"welcome\") {\r\n    return (\r\n      <div className=\"flex flex-col bg-gradient-to-br from-lime-50 to-lime-100\">\r\n        <div className=\"flex flex-1 flex-col items-center justify-start gap-1 px-6 text-center py-5\">\r\n          <h2 className=\"text-5xl font-bold text-gray-800 mb-8\">Time to Recycle!</h2>\r\n          <p className=\"text-xl text-gray-500 mb-12 max-w-lg leading-relaxed\">\r\n            Help us identify your waste. Simply tap the button below to snap a photo or upload one from your gallery.\r\n          </p>\r\n\r\n          <div className=\"flex flex-col items-center gap-1\">\r\n            <button\r\n              onClick={handleCameraCapture} // ✅ Now defined\r\n              className=\"bg-white rounded-full p-6 shadow-2xl hover:scale-105 transition\"\r\n            >\r\n              <div className=\"flex flex-col items-center gap-3\">\r\n                <div className=\"p-5 bg-lime-400 rounded-xl\">\r\n                  <CameraIcon />\r\n                </div>\r\n                <span className=\"text-xl font-semibold text-gray-800\">\r\n                  Capture Photo\r\n                </span>\r\n              </div>\r\n            </button>\r\n\r\n            <div className=\"flex items-center gap-4 w-52\">\r\n              <div className=\"flex-1 h-px bg-gray-300\" />\r\n              <span className=\"text-gray-500 font-medium\">or</span>\r\n              <div className=\"flex-1 h-px bg-gray-300\" />\r\n            </div>\r\n\r\n            <div className=\"relative w-72\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleImageUpload} // ✅ Now defined\r\n                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n              />\r\n              <button className=\"bg-white border-2 border-lime-200 rounded-xl p-5 w-full shadow-lg\">\r\n                <div className=\"flex flex-col items-center gap-3\">\r\n                  <div className=\"p-4 bg-lime-50 rounded-lg\">\r\n                    <UploadIcon />\r\n                  </div>\r\n                  <span className=\"text-lg font-semibold text-gray-800\">\r\n                    Upload from Gallery\r\n                  </span>\r\n                </div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"processing\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        {uploadedImage && <img src={uploadedImage} alt=\"Uploaded\" className=\"w-48 h-48 object-cover rounded-xl shadow-xl mb-6\" />}\r\n        <div className=\"w-16 h-16 border-4 border-lime-400 border-t-transparent rounded-full animate-spin mb-4\"></div>\r\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Analyzing Image...</h2>\r\n        <p className=\"text-gray-600 text-center max-w-xs\">\r\n          Our AI is identifying your waste type to provide the best recycling guidance.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"classification\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        {uploadedImage && <img src={uploadedImage} alt=\"Classified\" className=\"w-32 h-32 object-cover rounded-xl shadow-xl mb-6\" />}\r\n        <div className=\"mb-6\">\r\n          <div className=\"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-xl\">\r\n            <div className=\"w-12 h-12 bg-lime-400 rounded-full flex items-center justify-center\">\r\n              <CheckIcon size={24} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">{classificationResult}</h2>\r\n        <p className=\"text-gray-600 text-center mb-6\">\r\n          Great! We've identified your waste as {classificationResult.toLowerCase()}.\r\n          Let's learn how to dispose of it properly.\r\n        </p>\r\n        <div className=\"flex flex-col gap-4 w-full max-w-xs\">\r\n          <button\r\n            onClick={() => setCurrentView(\"instructions\")}\r\n            className=\"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\"\r\n          >\r\n            View Disposal Instructions\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setCurrentView(\"welcome\");\r\n              setUploadedImage(null);\r\n              setClassificationResult(\"\");\r\n            }}\r\n            className=\"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\"\r\n          >\r\n            Scan Another Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"instructions\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md\">\r\n          <h2 className=\"text-xl font-bold text-gray-800 text-center mb-6\">\r\n            How to Dispose of {classificationResult}\r\n          </h2>\r\n          <div className=\"flex flex-col gap-4 mb-6\">\r\n            {disposalInstructions.map((instr, idx) => (\r\n              <div key={idx} className=\"flex items-start gap-3\">\r\n                <div className={`w-6 h-6 flex items-center justify-center rounded-full text-white font-bold ${idx < 3 ? 'bg-lime-400' : 'bg-gray-400'}`}>\r\n                  {idx + 1}\r\n                </div>\r\n                <p className=\"text-gray-700\">{instr}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex flex-col gap-3\">\r\n            <button\r\n              onClick={() => setCurrentView(\"confirmation\")}\r\n              className=\"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\"\r\n            >\r\n              Confirm Disposal\r\n            </button>\r\n            <button\r\n              onClick={() => setCurrentView(\"welcome\")}\r\n              className=\"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\"\r\n            >\r\n              Scan Another Item\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"confirmation\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center gap-6\">\r\n          <h2 className=\"text-3xl font-bold text-gray-800\">Thank You!</h2>\r\n          <p className=\"text-gray-600 text-center\">\r\n            You've successfully disposed of {classificationResult.toLowerCase()} responsibly. Keep recycling!\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setCurrentView(\"welcome\");\r\n              setUploadedImage(null);\r\n              setClassificationResult(\"\");\r\n            }}\r\n            className=\"bg-lime-400 text-white py-3 px-6 rounded-xl font-semibold hover:bg-lime-500 transition\"\r\n          >\r\n            Scan Another Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}