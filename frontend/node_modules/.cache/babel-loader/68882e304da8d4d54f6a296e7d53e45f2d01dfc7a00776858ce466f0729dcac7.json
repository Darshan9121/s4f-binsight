{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\Binsight\\\\frontend\\\\src\\\\components\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [currentView, setCurrentView] = useState(\"welcome\");\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [classificationResult, setClassificationResult] = useState(\"\");\n  const [disposalInstructions, setDisposalInstructions] = useState([]);\n  const CLASS_NAMES = {\n    0: \"cardboard\",\n    1: \"glass\",\n    2: \"metal\",\n    3: \"paper\",\n    4: \"plastic\",\n    5: \"trash\"\n  };\n  // SVG Icons\n  const CameraIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"48\",\n    height: \"48\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n  const UploadIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"32\",\n    height: \"32\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-emerald-600\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 2,\n      d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n  const CheckIcon = ({\n    size = 24\n  }) => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: size,\n    height: size,\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    className: \"text-white\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 3,\n      d: \"M5 13l4 4L19 7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n\n  // Mock classification function\n  const classifyImage = async file => {\n    if (!file) return;\n\n    // Show processing screen immediately\n    setCurrentView(\"processing\");\n    try {\n      // Prepare FormData\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      console.log(\"Sending file to API:\", file);\n\n      // Upload image to FastAPI\n      const response = await fetch(\"http://localhost:8000/predict\", {\n        method: \"POST\",\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error(`Server error: ${response.status}`);\n      }\n      const result = await response.json();\n      const taskId = result.task_id;\n      console.log(\"Task ID received:\", taskId);\n\n      // Poll for results\n      const pollResult = async () => {\n        const resultResponse = await fetch(`http://localhost:8000/result/${taskId}`);\n        const resultData = await resultResponse.json();\n        if (resultData.status === \"completed\") {\n          console.log(\"Prediction result:\", resultData.prediction);\n\n          // Access \"class\" safely\n          const classId = resultData.prediction[\"class\"];\n          const className = CLASS_NAMES[classId] || \"Unknown\";\n          setClassificationResult(className);\n          setDisposalInstructions(getDisposalInstructions(className));\n          setCurrentView(\"classification\");\n          return resultData;\n        } else if (resultData.status === \"processing\") {\n          // Still processing, poll again after 1s\n          setTimeout(pollResult, 1000);\n        } else {\n          console.error(\"Unexpected status:\", resultData);\n          alert(\"Unexpected error. Try again.\");\n          setCurrentView(\"welcome\");\n        }\n      };\n      await pollResult();\n    } catch (error) {\n      console.error(\"Error classifying image:\", error);\n      alert(\"Failed to classify image. Check your server or file format.\");\n      setUploadedImage(null);\n      setClassificationResult(\"\");\n      setCurrentView(\"welcome\");\n    }\n  };\n\n  // --- File input handler ---\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        setUploadedImage(e.target.result);\n        setCurrentView(\"processing\");\n        classifyImage(file); // call the polling function\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // --- Camera capture handler ---\n  const handleCameraCapture = () => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.capture = \"camera\";\n    input.onchange = handleImageUpload;\n    input.click();\n  };\n\n  // --- Disposal instructions mapping ---\n  const getDisposalInstructions = wasteType => {\n    const instructions = {\n      cardboard: [\"Remove any tape, labels, or packing materials.\", \"Flatten cardboard boxes to save space.\", \"Place clean cardboard in the recycling bin.\", \"Soiled or wet cardboard goes to general waste.\"],\n      glass: [\"Remove lids or caps from glass containers.\", \"Rinse the glass to remove residue.\", \"Place clean glass in the recycling bin.\", \"Wrap broken glass safely before disposal.\"],\n      metal: [\"Rinse cans to remove residue.\", \"Remove paper labels if possible.\", \"Place in the metal recycling bin.\", \"Aluminum and steel are recyclable.\"],\n      paper: [\"Remove plastic wrapping or tape.\", \"Ensure paper is clean and dry.\", \"Place in the paper recycling bin.\", \"Heavily soiled paper goes to general waste.\"],\n      plastic: [\"Rinse the plastic container to remove any food residue.\", \"Check for the recycling symbol (1, 2, or 5). If present, it’s recyclable.\", \"Place clean, recyclable plastics in the recycling bin.\", \"If not recyclable, dispose in general waste.\"],\n      trash: [\"Place non-recyclable waste in the general waste bin.\", \"Avoid mixing recyclables with trash.\", \"Seal trash bags to prevent spills.\", \"Dispose of hazardous waste separately.\"]\n    };\n    return instructions[wasteType] || instructions[\"Plastic\"];\n  };\n\n  // Screens\n  if (currentView === \"welcome\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col bg-gradient-to-br from-lime-50 to-lime-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-1 flex-col items-center justify-center gap-1 px-6 text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-5xl font-bold text-gray-800 mb-8\",\n          children: \"Time to Recycle!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-500 mb-12 max-w-lg leading-relaxed\",\n          children: \"Help us identify your waste. Simply tap the button below to snap a photo or upload one from your gallery.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCameraCapture,\n            className: \"bg-white rounded-full p-6 shadow-2xl hover:scale-105 transition\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-5 bg-lime-400 rounded-xl\",\n                children: /*#__PURE__*/_jsxDEV(CameraIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-semibold text-gray-800\",\n                children: \"Capture Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4 w-52\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 h-px bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 font-medium\",\n              children: \"or\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 h-px bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-64\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleImageUpload,\n              className: \"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-white border-2 border-lime-200 rounded-xl p-4 w-full shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3 bg-lime-50 rounded-lg\",\n                  children: /*#__PURE__*/_jsxDEV(UploadIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-base font-semibold text-gray-800\",\n                  children: \"Upload from Gallery\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"processing\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: [uploadedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: uploadedImage,\n        alt: \"Uploaded\",\n        className: \"w-48 h-48 object-cover rounded-xl shadow-xl mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-lime-400 border-t-transparent rounded-full animate-spin mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-2\",\n        children: \"Analyzing Image...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-center max-w-xs\",\n        children: \"Our AI is identifying your waste type to provide the best recycling guidance.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"classification\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: [uploadedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: uploadedImage,\n        alt: \"Classified\",\n        className: \"w-32 h-32 object-cover rounded-xl shadow-xl mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-lime-400 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-800 mb-4\",\n        children: classificationResult\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-center mb-6\",\n        children: [\"Great! We've identified your waste as \", classificationResult.toLowerCase(), \". Let's learn how to dispose of it properly.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4 w-full max-w-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView(\"instructions\"),\n          className: \"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\",\n          children: \"View Disposal Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentView(\"welcome\");\n            setUploadedImage(null);\n            setClassificationResult(\"\");\n          },\n          className: \"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\",\n          children: \"Scan Another Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"instructions\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800 text-center mb-6\",\n          children: [\"How to Dispose of \", classificationResult]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-4 mb-6\",\n          children: disposalInstructions.map((instr, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-6 h-6 flex items-center justify-center rounded-full text-white font-bold ${idx < 3 ? 'bg-lime-400' : 'bg-gray-400'}`,\n              children: idx + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-700\",\n              children: instr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView(\"confirmation\"),\n            className: \"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\",\n            children: \"Confirm Disposal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView(\"welcome\"),\n            className: \"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\",\n            children: \"Scan Another Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentView === \"confirmation\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-gray-800\",\n          children: \"Thank You!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-center\",\n          children: [\"You've successfully disposed of \", classificationResult.toLowerCase(), \" responsibly. Keep recycling!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentView(\"welcome\");\n            setUploadedImage(null);\n            setClassificationResult(\"\");\n          },\n          className: \"bg-lime-400 text-white py-3 px-6 rounded-xl font-semibold hover:bg-lime-500 transition\",\n          children: \"Scan Another Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(Home, \"UrC4pzubSHMcMhwgPy7ubp/LpQE=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Home","_s","currentView","setCurrentView","uploadedImage","setUploadedImage","classificationResult","setClassificationResult","disposalInstructions","setDisposalInstructions","CLASS_NAMES","CameraIcon","width","height","fill","stroke","viewBox","className","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","UploadIcon","CheckIcon","size","classifyImage","file","formData","FormData","append","console","log","response","fetch","method","body","ok","Error","status","result","json","taskId","task_id","pollResult","resultResponse","resultData","prediction","classId","getDisposalInstructions","setTimeout","error","alert","handleImageUpload","event","target","files","reader","FileReader","onload","e","readAsDataURL","handleCameraCapture","input","document","createElement","type","accept","capture","onchange","click","wasteType","instructions","cardboard","glass","metal","paper","plastic","trash","onClick","onChange","src","alt","toLowerCase","map","instr","idx","_c","$RefreshReg$"],"sources":["D:/Projects/Binsight/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Home = () => {\r\n  const [currentView, setCurrentView] = useState(\"welcome\");\r\n  const [uploadedImage, setUploadedImage] = useState(null);\r\n  const [classificationResult, setClassificationResult] = useState(\"\");\r\n  const [disposalInstructions, setDisposalInstructions] = useState([]);\r\nconst CLASS_NAMES = {\r\n  0: \"cardboard\",\r\n  1: \"glass\",\r\n  2: \"metal\",\r\n  3: \"paper\",\r\n  4: \"plastic\",\r\n  5: \"trash\"\r\n};\r\n  // SVG Icons\r\n  const CameraIcon = () => (\r\n    <svg width=\"48\" height=\"48\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-white\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n    </svg>\r\n  );\r\n\r\n  const UploadIcon = () => (\r\n    <svg width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-emerald-600\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n    </svg>\r\n  );\r\n\r\n  const CheckIcon = ({ size = 24 }) => (\r\n    <svg width={size} height={size} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-white\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\r\n    </svg>\r\n  );\r\n\r\n  // Mock classification function\r\nconst classifyImage = async (file) => {\r\n  if (!file) return;\r\n\r\n  // Show processing screen immediately\r\n  setCurrentView(\"processing\");\r\n\r\n  try {\r\n    // Prepare FormData\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    console.log(\"Sending file to API:\", file);\r\n\r\n    // Upload image to FastAPI\r\n    const response = await fetch(\"http://localhost:8000/predict\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Server error: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const taskId = result.task_id;\r\n\r\n    console.log(\"Task ID received:\", taskId);\r\n\r\n    // Poll for results\r\n    const pollResult = async () => {\r\n      const resultResponse = await fetch(`http://localhost:8000/result/${taskId}`);\r\n      const resultData = await resultResponse.json();\r\n\r\n     if (resultData.status === \"completed\") {\r\n  console.log(\"Prediction result:\", resultData.prediction);\r\n\r\n  // Access \"class\" safely\r\n const classId = resultData.prediction[\"class\"];\r\nconst className = CLASS_NAMES[classId] || \"Unknown\";\r\nsetClassificationResult(className);\r\nsetDisposalInstructions(getDisposalInstructions(className));\r\n  setCurrentView(\"classification\");\r\n\r\n  return resultData;\r\n}\r\nelse if (resultData.status === \"processing\") {\r\n  // Still processing, poll again after 1s\r\n  setTimeout(pollResult, 1000);\r\n} else {\r\n  console.error(\"Unexpected status:\", resultData);\r\n  alert(\"Unexpected error. Try again.\");\r\n  setCurrentView(\"welcome\");\r\n}\r\n    };\r\n\r\n    await pollResult();\r\n\r\n  } catch (error) {\r\n    console.error(\"Error classifying image:\", error);\r\n    alert(\"Failed to classify image. Check your server or file format.\");\r\n    setUploadedImage(null);\r\n    setClassificationResult(\"\");\r\n    setCurrentView(\"welcome\");\r\n  }\r\n};\r\n\r\n// --- File input handler ---\r\nconst handleImageUpload = (event) => {\r\n  const file = event.target.files[0];\r\n  if (file) {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      setUploadedImage(e.target.result);\r\n      setCurrentView(\"processing\");\r\n      classifyImage(file); // call the polling function\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n};\r\n\r\n// --- Camera capture handler ---\r\nconst handleCameraCapture = () => {\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \"image/*\";\r\n  input.capture = \"camera\";\r\n  input.onchange = handleImageUpload;\r\n  input.click();\r\n};\r\n\r\n// --- Disposal instructions mapping ---\r\nconst getDisposalInstructions = (wasteType) => {\r\n const instructions = {\r\n  cardboard: [\r\n    \"Remove any tape, labels, or packing materials.\",\r\n    \"Flatten cardboard boxes to save space.\",\r\n    \"Place clean cardboard in the recycling bin.\",\r\n    \"Soiled or wet cardboard goes to general waste.\",\r\n  ],\r\n  glass: [\r\n    \"Remove lids or caps from glass containers.\",\r\n    \"Rinse the glass to remove residue.\",\r\n    \"Place clean glass in the recycling bin.\",\r\n    \"Wrap broken glass safely before disposal.\",\r\n  ],\r\n  metal: [\r\n    \"Rinse cans to remove residue.\",\r\n    \"Remove paper labels if possible.\",\r\n    \"Place in the metal recycling bin.\",\r\n    \"Aluminum and steel are recyclable.\",\r\n  ],\r\n  paper: [\r\n    \"Remove plastic wrapping or tape.\",\r\n    \"Ensure paper is clean and dry.\",\r\n    \"Place in the paper recycling bin.\",\r\n    \"Heavily soiled paper goes to general waste.\",\r\n  ],\r\n  plastic: [\r\n    \"Rinse the plastic container to remove any food residue.\",\r\n    \"Check for the recycling symbol (1, 2, or 5). If present, it’s recyclable.\",\r\n    \"Place clean, recyclable plastics in the recycling bin.\",\r\n    \"If not recyclable, dispose in general waste.\",\r\n  ],\r\n  trash: [\r\n    \"Place non-recyclable waste in the general waste bin.\",\r\n    \"Avoid mixing recyclables with trash.\",\r\n    \"Seal trash bags to prevent spills.\",\r\n    \"Dispose of hazardous waste separately.\",\r\n  ],\r\n};\r\n  return instructions[wasteType] || instructions[\"Plastic\"];\r\n};\r\n\r\n  // Screens\r\n  if (currentView === \"welcome\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-lime-50 to-lime-100\">\r\n        {/* Header */}\r\n        {/* <div className=\"flex items-center px-6 py-6\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">BinSight</h1>\r\n        </div> */}\r\n\r\n        {/* Main */}\r\n        <div className=\"flex flex-1 flex-col items-center justify-center gap-1 px-6 text-center py-8\">\r\n          <h2 className=\"text-5xl font-bold text-gray-800 mb-8\">Time to Recycle!</h2>\r\n          <p className=\"text-xl text-gray-500 mb-12 max-w-lg leading-relaxed\">\r\n            Help us identify your waste. Simply tap the button below to snap a photo or upload one from your gallery.\r\n          </p>\r\n\r\n          <div className=\"flex flex-col items-center gap-1\">\r\n            <button\r\n              onClick={handleCameraCapture}\r\n              className=\"bg-white rounded-full p-6 shadow-2xl hover:scale-105 transition\"\r\n            >\r\n              <div className=\"flex flex-col items-center gap-3\">\r\n                <div className=\"p-5 bg-lime-400 rounded-xl\">\r\n                  <CameraIcon />\r\n                </div>\r\n                <span className=\"text-xl font-semibold text-gray-800\">\r\n                  Capture Photo\r\n                </span>\r\n              </div>\r\n            </button>\r\n\r\n            <div className=\"flex items-center gap-4 w-52\">\r\n              <div className=\"flex-1 h-px bg-gray-300\" />\r\n              <span className=\"text-gray-500 font-medium\">or</span>\r\n              <div className=\"flex-1 h-px bg-gray-300\" />\r\n            </div>\r\n\r\n            <div className=\"relative w-64\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleImageUpload}\r\n                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n              />\r\n              <button className=\"bg-white border-2 border-lime-200 rounded-xl p-4 w-full shadow-lg\">\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  <div className=\"p-3 bg-lime-50 rounded-lg\">\r\n                    <UploadIcon />\r\n                  </div>\r\n                  <span className=\"text-base font-semibold text-gray-800\">\r\n                    Upload from Gallery\r\n                  </span>\r\n                </div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"processing\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        {uploadedImage && <img src={uploadedImage} alt=\"Uploaded\" className=\"w-48 h-48 object-cover rounded-xl shadow-xl mb-6\" />}\r\n        <div className=\"w-16 h-16 border-4 border-lime-400 border-t-transparent rounded-full animate-spin mb-4\"></div>\r\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Analyzing Image...</h2>\r\n        <p className=\"text-gray-600 text-center max-w-xs\">\r\n          Our AI is identifying your waste type to provide the best recycling guidance.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"classification\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        {uploadedImage && <img src={uploadedImage} alt=\"Classified\" className=\"w-32 h-32 object-cover rounded-xl shadow-xl mb-6\" />}\r\n        <div className=\"mb-6\">\r\n          <div className=\"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-xl\">\r\n            <div className=\"w-12 h-12 bg-lime-400 rounded-full flex items-center justify-center\">\r\n              <CheckIcon size={24} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">{classificationResult}</h2>\r\n        <p className=\"text-gray-600 text-center mb-6\">\r\n          Great! We've identified your waste as {classificationResult.toLowerCase()}.\r\n          Let's learn how to dispose of it properly.\r\n        </p>\r\n        <div className=\"flex flex-col gap-4 w-full max-w-xs\">\r\n          <button\r\n            onClick={() => setCurrentView(\"instructions\")}\r\n            className=\"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\"\r\n          >\r\n            View Disposal Instructions\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setCurrentView(\"welcome\");\r\n              setUploadedImage(null);\r\n              setClassificationResult(\"\");\r\n            }}\r\n            className=\"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\"\r\n          >\r\n            Scan Another Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"instructions\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md\">\r\n          <h2 className=\"text-xl font-bold text-gray-800 text-center mb-6\">\r\n            How to Dispose of {classificationResult}\r\n          </h2>\r\n          <div className=\"flex flex-col gap-4 mb-6\">\r\n            {disposalInstructions.map((instr, idx) => (\r\n              <div key={idx} className=\"flex items-start gap-3\">\r\n                <div className={`w-6 h-6 flex items-center justify-center rounded-full text-white font-bold ${idx < 3 ? 'bg-lime-400' : 'bg-gray-400'}`}>\r\n                  {idx + 1}\r\n                </div>\r\n                <p className=\"text-gray-700\">{instr}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex flex-col gap-3\">\r\n            <button\r\n              onClick={() => setCurrentView(\"confirmation\")}\r\n              className=\"w-full bg-lime-400 text-white py-3 rounded-xl font-semibold hover:bg-lime-500 transition\"\r\n            >\r\n              Confirm Disposal\r\n            </button>\r\n            <button\r\n              onClick={() => setCurrentView(\"welcome\")}\r\n              className=\"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-100 transition\"\r\n            >\r\n              Scan Another Item\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (currentView === \"confirmation\") {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 p-6\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center gap-6\">\r\n          <h2 className=\"text-3xl font-bold text-gray-800\">Thank You!</h2>\r\n          <p className=\"text-gray-600 text-center\">\r\n            You've successfully disposed of {classificationResult.toLowerCase()} responsibly. Keep recycling!\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setCurrentView(\"welcome\");\r\n              setUploadedImage(null);\r\n              setClassificationResult(\"\");\r\n            }}\r\n            className=\"bg-lime-400 text-white py-3 px-6 rounded-xl font-semibold hover:bg-lime-500 transition\"\r\n          >\r\n            Scan Another Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}